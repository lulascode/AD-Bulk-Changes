<Window x:Class="AD_BulkChanges.SettingsWindow"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        Title="AD Verbindungseinstellungen" Height="400" Width="500"
        WindowStartupLocation="CenterOwner" ResizeMode="NoResize">
    <Grid Margin="10">
        <Grid.RowDefinitions>
            <RowDefinition Height="Auto"/>
            <RowDefinition Height="*"/>
            <RowDefinition Height="Auto"/>
        </Grid.RowDefinitions>
        
        <TextBlock Grid.Row="0" Text="Active Directory Verbindung konfigurieren" 
                   FontSize="16" FontWeight="Bold" Margin="0,0,0,15"/>
        
        <GroupBox Grid.Row="1" Header="Verbindungseinstellungen" Padding="10">
            <StackPanel>
                <CheckBox Name="ChkUseCurrentCredentials" Content="Aktuelle Windows-Anmeldeinformationen verwenden" 
                          IsChecked="True" Margin="5" Checked="ChkUseCurrentCredentials_Changed" 
                          Unchecked="ChkUseCurrentCredentials_Changed"/>
                
                <Separator Margin="5,10"/>
                
                <Label Content="Server/Domain Controller (optional):"/>
                <TextBox Name="TxtServerName" Margin="5" 
                         ToolTip="z.B. dc01.contoso.com oder leer lassen für Auto-Erkennung"/>
                
                <Label Content="Domain DN (optional):"/>
                <TextBox Name="TxtDomainDN" Margin="5"
                         ToolTip="z.B. DC=contoso,DC=com oder leer lassen für Auto-Erkennung"/>
                
                <Separator Margin="5,10"/>
                
                <Label Content="Benutzername:" Name="LblUsername"/>
                <TextBox Name="TxtUsername" Margin="5" IsEnabled="False"
                         ToolTip="z.B. DOMAIN\username oder username@domain.com"/>
                
                <Label Content="Passwort:" Name="LblPassword"/>
                <PasswordBox Name="TxtPassword" Margin="5" IsEnabled="False"/>
                
                <TextBlock Margin="5,10,5,5" TextWrapping="Wrap" Foreground="Gray" FontSize="11">
                    Hinweis: Wenn Sie die aktuellen Anmeldeinformationen verwenden, stellen Sie sicher, 
                    dass Ihr Benutzerkonto die erforderlichen Berechtigungen für AD-Zugriff hat.
                </TextBlock>
            </StackPanel>
        </GroupBox>
        
        <StackPanel Grid.Row="2" Orientation="Horizontal" HorizontalAlignment="Right" Margin="0,10,0,0">
            <Button Name="BtnTestConnection" Content="Verbindung testen" Width="130" 
                    Margin="5" Click="BtnTestConnection_Click"/>
            <Button Name="BtnOK" Content="OK" Width="80" Margin="5" Click="BtnOK_Click" IsDefault="True"/>
            <Button Name="BtnCancel" Content="Abbrechen" Width="80" Margin="5" Click="BtnCancel_Click" IsCancel="True"/>
        </StackPanel>
    </Grid>
</Window>
